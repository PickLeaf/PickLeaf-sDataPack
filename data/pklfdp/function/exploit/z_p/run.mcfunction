execute if data entity @s \
  HandItems[{id:"minecraft:lava_bucket",count:16}] \
  run return fail

setblock ~ ~2 ~ minecraft:cauldron
item modify entity @s weapon.mainhand pklfdp:minus_one
playsound minecraft:item.bucket.fill_lava hostile @a

execute unless data entity @s HandItems[1].id \
  run return run data modify entity @s HandItems[1] \
  set value {id:"minecraft:lava_bucket",count:1,\
  components:{max_stack_size:16}}

item modify entity @s weapon.offhand pklfdp:add_one